@use 'sass:list';
@use 'sass:string';

 
/// Adjustable size depending on the user's device, if you need upper or lower border for fixed value - use this function in @media (max-width/min-width) in your project and point out the same $pcSize for default value
/// @param { number } $pcSize [10] - size in larger(your template width) state
/// @param { number } $mobSize [5] - size in smaller(page width 320px) state
/// @param { number } $templateWidth [1440] - width of larger template in figma or smth else
@function getLiquidSize($pcSize: 10, $mobSize: 5, $templateWidth: 1440) {
  $addSize: $pcSize - $mobSize;
  $maxWidth: $templateWidth - 320;
  @return calc(#{$mobSize + px} + #{$addSize} * ((100vw - 320px) / #{$maxWidth}));
}

/// Resolve path for generated in runtime images: @assets -> ./../../assets & assign new path('.' isn't included)
/// @param { string } $path - path to img using @assets alias
/// @param { string } $newExt - new extension of img
@function resolveUnresolvedAssetPath($path, $newExt) {
  $filePath: list.nth(parsePath($path), 1);

  $resolvedFilePath: string.insert(string.slice($filePath, 2), './../../', 0);

  @return $resolvedFilePath + $newExt;
}

/// Returns list with path and extension
/// @param { string } $path - path to file
@function parsePath($path) {
  $pathExtensionIndex: string.index($path, '.');
  $filePath: string.slice($path, 0, $pathExtensionIndex - 1);
  $fileExt: string.slice($path, $pathExtensionIndex + 1);

  @return ($filePath, $fileExt);
}
