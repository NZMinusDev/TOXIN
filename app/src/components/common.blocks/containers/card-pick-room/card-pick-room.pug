include ~@common.blocks/primitives/form-dropdown/form-dropdown.pug
include ~@common.blocks/primitives/button/button.pug

//- class: {string} - class for component bem mix: such as positioning functionality
//- name: {string} - name of <form>, also it is used such prefix for names of inner forms
//- action: {string} - form action
//- method: {"get" | "post"} - form method
//- target: {("_self"|null)|"_blank"|"_parent"|"_top"} - form target
//- disabled?: same as fieldset disabled (disable all buttons)
mixin card-pick-room({ name = 'card-pick-room', action = '/mock.js', method = 'post', disabled = false } = {})
  form.card-base.card-pick-room(name=name, action=action, method=method)&attributes(attributes)
    h1.card-pick-room__title Найдём номера под ваши пожелания
    fieldset.card-pick-room__datepicker-fieldset(disabled=disabled)
      .card-pick-room__datepicker
        +form-dropdown('date', { heading: { h3: 'Прибытие' }, name: `${name}-arrival`, output: 'plural', altFields: `.card-pick-room__departure-date-dropdown [name=${name}-departure]`}).card-pick-room__arrival-date-dropdown
        +form-dropdown('date', { heading: { h3: 'Выезд' }, name: `${name}-departure`, isAltField: true}).card-pick-room__departure-date-dropdown
    +form-dropdown('item-quantity', { name: `${name}-guests`, heading: { h3: 'Гости' }, placeholder: 'Сколько гостей', openMod: 'apply', groups: { гости: { selectionText: 'гость', textPlural: 'гостя' }, младенцы: { selectionText: 'младенец', textPlural: 'младенцев' } }, list: { взрослые: { default: 0, min: 0, max: 1 / 0, group: 'гости' }, дети: { default: 0, min: 0, max: 1 / 0, group: 'гости' }, младенцы: { default: 0, min: 0, max: 1 / 0 } } }).card-pick-room__guests-single-apply
    +button({ type: 'link' }).card-pick-room__submit-btn(type="submit", value="Подобрать номер")
